{% extends 'discussionForum/home.html' %}
{% block content %}
<div class="container">
    <div class="container">
        <div class="container"><h1>Answers</h1></div>
        <div class="container" style="display: inline-block;">
            <label for="sort">Sort By</label>
            <select name="sortCategory" id="sort">
                <option value="votes">Most votes</option>
                <option value="recent">Recent</option>
                <option value="comment">Most commented</option>
            </select>
        </div>
    </div>  
    <p>({{ views }} views)</p>
    {% for ans in answers %}
        <div class="container bg-white rounded shadow-sm" style="padding: 20px;">
            <div class="container" style="padding: 10px;">
                <div style="float: left;margin: 15px">
                    <div class="m-0">
                        <a href="{% url 'upvote' ans.id %}"><i class="fa fa-chevron-up"></i></a> 
                    </div>
                    <div class="m-0">
                        {{ ans.votes }}
                    </div>
                    <div class="m-0">
                        <a href="{% url 'downvote' ans.id %}"><i class="fa fa-chevron-down"></i></a> 
                    </div>
                </div>
                <p>{{ ans.answer }}</p>
                <h6>By: {{ ans.answeredBy.username }}</h6>
                <h6>On: {{ ans.date_answered }}</h6>
            </div>
            <div style="margin-left: 55px;">
                <button class="btn btn-primary"> <a href="{% url 'comment' ans.id %}" style="text-decoration: none;color: white;">Comment</a> </button>
                {% if request.user == ans.answeredBy %}
                    <button class="btn btn-primary"> <a href="{% url 'updateAnswer' ans.id %}" style="text-decoration: none;color: white;">Update</a> </button>
                {% endif %}
                {% if request.user == ans.answeredBy %}
                    <button class="btn btn-primary"> <a href="{% url 'deleteAnswer' ans.id %}" style="text-decoration: none;color: white;">Delete</a> </button>
                {% endif %}        
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}